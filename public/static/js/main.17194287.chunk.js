(this["webpackJsonpcalendar-app"]=this["webpackJsonpcalendar-app"]||[]).push([[0],{102:function(e,t,n){},103:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),s=n(9),o=n.n(s),c=n(8),i=n(23),l=n(58),d=n(5),u="[ui] Open modal",b="[ui] Close modal",m="[calendar] Set Active",j="[calendar] New Event",x="[calendar] Event Clear ActiveEvent",h="[calendar] Event Updated",f="[calendar] Event Deleted",g="[event] Events loaded",p="[event] Event logout",v="[auth] Finish checking login state",O="[auth] Login",w="[auth] Logout",y={checking:!0,uid:null,name:null},N=n(53),k={events:[],activeEvent:null},E={modalOpen:!1},S=Object(i.c)({ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(d.a)(Object(d.a)({},e),{},{modalOpen:!0});case b:return Object(d.a)(Object(d.a)({},e),{},{modalOpen:!1});default:return e}},calendar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(d.a)(Object(d.a)({},e),{},{activeEvent:t.payload});case j:return Object(d.a)(Object(d.a)({},e),{},{events:[].concat(Object(N.a)(e.events),[t.payload])});case x:return Object(d.a)(Object(d.a)({},e),{},{activeEvent:null});case h:return Object(d.a)(Object(d.a)({},e),{},{events:e.events.map((function(e){return e.id===t.payload.id?t.payload:e}))});case f:return Object(d.a)(Object(d.a)({},e),{},{events:e.events.filter((function(t){return t.id!==e.activeEvent.id})),activeEvent:null});case g:return Object(d.a)(Object(d.a)({},e),{},{events:Object(N.a)(t.payload)});case p:return Object(d.a)(Object(d.a)({},e),{},{events:[],activeEvent:null});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(d.a)(Object(d.a)(Object(d.a)({},e),t.payload),{},{checking:!1});case v:return Object(d.a)(Object(d.a)({},e),{},{checking:!1});case w:return{checking:!1};default:return e}}}),C="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,D=Object(i.e)(S,C(Object(i.a)(l.a))),T=n(19),F=n(10),M=n(13),I=n(12),L=n.n(I),A=n(22),_=n(16),B=n.n(_),R="https://mern-calendar-backend-2020.herokuapp.com/api",W=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a="".concat(R,"/").concat(e);return"GET"===n?fetch(a):fetch(a,{method:n,headers:{"Content-type":"application/json"},body:JSON.stringify(t)})},q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a="".concat(R,"/").concat(e),r=localStorage.getItem("token")||"";return"GET"===n?fetch(a,{method:n,headers:{"x-token":r}}):fetch(a,{method:n,headers:{"Content-type":"application/json","x-token":r},body:JSON.stringify(t)})},P=function(){return function(e){localStorage.clear(),e(G())}},V=function(e){return{type:O,payload:e}},H=function(){return{type:v}},G=function(){return{type:w}},J=n(26),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(r.useState)(e),n=Object(M.a)(t,2),a=n[0],s=n[1],o=function(){s(e)},c=function(e){var t=e.target;s(Object(d.a)(Object(d.a)({},a),{},Object(J.a)({},t.name,t.value)))};return[a,c,o]},U=function(){var e=Object(c.b)(),t=z({email:"",password:""}),n=Object(M.a)(t,2),r=n[0],s=n[1],o=r.email,i=r.password;return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"flex min-h-screen bg-white",children:[Object(a.jsx)("div",{className:"flex flex-col justify-center flex-1 px-4 py-12 lg:w-3/6 sm:px-6 lg:flex-none lg:px-20 xl:px-24",children:Object(a.jsxs)("div",{className:"w-full max-w-sm mx-auto lg:w-96",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{className:"w-auto h-12",src:"https://tailwindui.com/img/logos/v1/workflow-mark-on-white.svg",alt:"Workflow"}),Object(a.jsx)("h2",{className:"mt-6 text-3xl font-extrabold leading-9 text-gray-900",children:"Inicia sesi\xf3n"})]}),Object(a.jsx)("div",{className:"mt-8",children:Object(a.jsx)("div",{className:"mt-6",children:Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(function(e,t){return function(){var n=Object(A.a)(L.a.mark((function n(a){var r,s;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,q("auth",{email:e,password:t},"POST");case 2:return r=n.sent,n.next=5,r.json();case 5:(s=n.sent).ok?(localStorage.setItem("token",s.token),localStorage.setItem("token-init-date",(new Date).getTime()),a(V({uid:s.uid,name:s.name}))):B.a.fire("Error",s.msg,"error");case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(o,i))},action:"#",method:"POST",className:"space-y-6",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium leading-5 text-gray-700",children:"Direcci\xf3n de correo"}),Object(a.jsx)("div",{className:"mt-1 rounded-md shadow-sm",children:Object(a.jsx)("input",{id:"email",type:"email",name:"email",value:o,onChange:s,required:!0,className:"block w-full px-3 py-2 placeholder-gray-400 transition duration-150 ease-in-out border border-gray-300 rounded-md appearance-none focus:outline-none focus:shadow-outline-blue focus:border-blue-300 sm:text-sm sm:leading-5"})})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium leading-5 text-gray-700",children:"Contrase\xf1a"}),Object(a.jsx)("div",{className:"mt-1 rounded-md shadow-sm",children:Object(a.jsx)("input",{id:"password",type:"password",name:"password",value:i,onChange:s,required:!0,className:"block w-full px-3 py-2 placeholder-gray-400 transition duration-150 ease-in-out border border-gray-300 rounded-md appearance-none focus:outline-none focus:shadow-outline-blue focus:border-blue-300 sm:text-sm sm:leading-5"})})]}),Object(a.jsxs)("div",{className:"flex items-center justify-between",children:[Object(a.jsxs)("div",{className:"flex items-center",children:[Object(a.jsx)("input",{id:"remember_me",type:"checkbox",className:"w-4 h-4 text-indigo-600 transition duration-150 ease-in-out form-checkbox"}),Object(a.jsx)("label",{htmlFor:"remember_me",className:"block ml-2 text-sm leading-5 text-gray-900",children:"Recuerdame"})]}),Object(a.jsx)("div",{className:"text-sm leading-5",children:Object(a.jsx)(T.b,{to:"/register",className:"font-medium text-indigo-600 transition duration-150 ease-in-out hover:text-indigo-500 focus:outline-none focus:underline",children:"\xbfNo tienes cuenta?"})})]}),Object(a.jsx)("div",{children:Object(a.jsx)("span",{className:"block w-full rounded-md shadow-sm",children:Object(a.jsx)("button",{type:"submit",className:"flex justify-center w-full px-4 py-2 text-sm font-medium text-white transition duration-150 ease-in-out bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700",children:"Inicio de Sesi\xf3n"})})})]})})})]})}),Object(a.jsx)("div",{className:"relative flex-1 hidden w-0 lg:block",children:Object(a.jsx)("img",{className:"absolute inset-0 object-cover w-full h-full",src:"https://images.unsplash.com/photo-1484981184820-2e84ea0af397?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80",alt:""})})]})})},Q=function(){var e=Object(c.b)(),t=z({name:"",email:"",password1:"",password2:""}),n=Object(M.a)(t,2),r=n[0],s=n[1],o=r.name,i=r.email,l=r.password1,d=r.password2;return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"flex min-h-screen bg-white",children:[Object(a.jsx)("div",{className:"flex flex-col justify-center flex-1 px-4 py-12 lg:w-3/6 sm:px-6 lg:flex-none lg:px-20 xl:px-24",children:Object(a.jsxs)("div",{className:"w-full max-w-sm mx-auto lg:w-96",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{className:"w-auto h-12",src:"https://tailwindui.com/img/logos/v1/workflow-mark-on-white.svg",alt:"Workflow"}),Object(a.jsx)("h2",{className:"mt-6 text-3xl font-extrabold leading-9 text-gray-900",children:"Registrate con tus datos"})]}),Object(a.jsx)("div",{className:"mt-8",children:Object(a.jsx)("div",{className:"mt-6",children:Object(a.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),l!==d)return B.a.fire("Error","Las contrase\xf1as deben ser iguales","error");e(function(e,t,n){return function(){var a=Object(A.a)(L.a.mark((function a(r){var s,o;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,W("auth/new",{name:e,email:t,password:n},"POST");case 2:return s=a.sent,a.next=5,s.json();case 5:(o=a.sent).ok?(localStorage.setItem("token",o.token),localStorage.setItem("token-init-date",(new Date).getTime()),r(V({uid:o.uid,name:o.name}))):B.a.fire("Error",o.msg,"error");case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(o,i,l))},action:"#",method:"POST",className:"space-y-6",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"text",className:"block text-sm font-medium leading-5 text-gray-700",children:"Nombres"}),Object(a.jsx)("div",{className:"mt-1 rounded-md shadow-sm",children:Object(a.jsx)("input",{id:"name",type:"text",name:"name",value:o,onChange:s,required:!0,className:"block w-full px-3 py-2 placeholder-gray-400 transition duration-150 ease-in-out border border-gray-300 rounded-md appearance-none focus:outline-none focus:shadow-outline-blue focus:border-blue-300 sm:text-sm sm:leading-5"})})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium leading-5 text-gray-700",children:"Direcci\xf3n de correo"}),Object(a.jsx)("div",{className:"mt-1 rounded-md shadow-sm",children:Object(a.jsx)("input",{id:"email",type:"email",name:"email",value:i,onChange:s,required:!0,className:"block w-full px-3 py-2 placeholder-gray-400 transition duration-150 ease-in-out border border-gray-300 rounded-md appearance-none focus:outline-none focus:shadow-outline-blue focus:border-blue-300 sm:text-sm sm:leading-5"})})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium leading-5 text-gray-700",children:"Contrase\xf1a"}),Object(a.jsx)("div",{className:"mt-1 rounded-md shadow-sm",children:Object(a.jsx)("input",{id:"password",type:"password",name:"password1",value:l,onChange:s,required:!0,className:"block w-full px-3 py-2 placeholder-gray-400 transition duration-150 ease-in-out border border-gray-300 rounded-md appearance-none focus:outline-none focus:shadow-outline-blue focus:border-blue-300 sm:text-sm sm:leading-5"})})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium leading-5 text-gray-700",children:"Repetir contrase\xf1a"}),Object(a.jsx)("div",{className:"mt-1 rounded-md shadow-sm",children:Object(a.jsx)("input",{id:"password2",name:"password2",value:d,onChange:s,type:"password",required:!0,className:"block w-full px-3 py-2 placeholder-gray-400 transition duration-150 ease-in-out border border-gray-300 rounded-md appearance-none focus:outline-none focus:shadow-outline-blue focus:border-blue-300 sm:text-sm sm:leading-5"})})]}),Object(a.jsxs)("div",{className:"flex items-center justify-between",children:[Object(a.jsxs)("div",{className:"flex items-center",children:[Object(a.jsx)("input",{id:"remember_me",type:"checkbox",className:"w-4 h-4 text-indigo-600 transition duration-150 ease-in-out form-checkbox"}),Object(a.jsx)("label",{htmlFor:"remember_me",className:"block ml-2 text-sm leading-5 text-gray-900",children:"Recuerdame"})]}),Object(a.jsx)("div",{className:"text-sm leading-5",children:Object(a.jsx)(T.b,{to:"/login",className:"font-medium text-indigo-600 transition duration-150 ease-in-out hover:text-indigo-500 focus:outline-none focus:underline",children:"\xbfYa tienes cuenta?"})})]}),Object(a.jsx)("div",{children:Object(a.jsx)("span",{className:"block w-full rounded-md shadow-sm",children:Object(a.jsx)("button",{type:"submit",className:"flex justify-center w-full px-4 py-2 text-sm font-medium text-white transition duration-150 ease-in-out bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700",children:"Reg\xedstrate"})})})]})})})]})}),Object(a.jsx)("div",{className:"relative flex-1 hidden w-0 lg:block",children:Object(a.jsx)("img",{className:"absolute inset-0 object-cover w-full h-full",src:"https://images.unsplash.com/photo-1484981184820-2e84ea0af397?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80",alt:""})})]})})},X=n(52),Y=n(17),K=n.n(Y),Z=(n(73),n(74),function(){return{type:u}}),$=function(){return{type:b}},ee=n(27),te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{end:K()(e.end).toDate(),start:K()(e.start).toDate()})}))},ne=function(e){return{type:j,payload:e}},ae=function(){return{type:x}},re=function(){return{type:f}},se=function(e){return{type:h,payload:e}},oe=function(e){return{type:g,payload:e}},ce=function(){return{type:p}},ie=n.p+"static/media/cara-feliz.c0bb7738.jpg",le=function(){var e=Object(c.c)((function(e){return e.auth})).name,t=Object(c.b)(),n=function(){t(P()),t(ce())};return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(ee.a,{children:function(t){var r=t.open;return Object(a.jsxs)("div",{className:"relative ml-3",children:[Object(a.jsx)("div",{children:Object(a.jsx)(ee.a.Button,{className:"flex text-sm transition duration-150 ease-in-out border-2 border-transparent rounded-full focus:outline-none focus:border-gray-300",id:"user-menu","aria-label":"User menu","aria-haspopup":"true",children:Object(a.jsx)("img",{className:"w-8 h-8 rounded-full",src:ie,alt:""})})}),Object(a.jsx)(ee.b,{show:r,enter:"transition ease-out duration-200",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(a.jsx)("div",{className:"absolute right-0 w-48 mt-2 origin-top-right rounded-md shadow-lg",children:Object(a.jsxs)("div",{className:"py-1 bg-white rounded-md shadow-xs",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu",children:[Object(a.jsxs)("div",{className:"block px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:outline-none focus:bg-gray-100",children:["Hola, ",Object(a.jsx)("span",{children:e})]}),Object(a.jsx)(T.b,{to:"/",className:"block px-4 py-2 text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:outline-none focus:bg-gray-100",role:"menuitem",onClick:n,children:"Salir"})]})})})]})}})})},de=function(e){var t=e.showMenu,n=Object(c.c)((function(e){return e.auth})).name,r=Object(c.b)();return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"".concat(t?"block md:hidden":"hidden md:hidden"),children:[Object(a.jsx)("div",{className:"pt-2 pb-3",children:Object(a.jsx)("a",{href:"/",className:"block py-2 pl-3 pr-4 text-base font-medium text-indigo-700 transition duration-150 ease-in-out border-l-4 border-indigo-500 bg-indigo-50 focus:outline-none focus:text-indigo-800 focus:bg-indigo-100 focus:border-indigo-700 sm:pl-5 sm:pr-6",children:"Calendario"})}),Object(a.jsxs)("div",{className:"pt-4 pb-3 border-t border-gray-200",children:[Object(a.jsxs)("div",{className:"flex items-center px-4 sm:px-6",children:[Object(a.jsx)("div",{className:"flex-shrink-0",children:Object(a.jsx)("img",{className:"w-10 h-10 rounded-full",src:ie,alt:""})}),Object(a.jsx)("div",{className:"ml-3",children:Object(a.jsx)("div",{className:"text-base font-medium leading-6 text-gray-800",children:n})})]}),Object(a.jsx)("div",{className:"mt-3",children:Object(a.jsx)("button",{onClick:function(){r(P()),r(ce())},className:"block w-full px-4 py-2 mt-1 text-base font-medium text-left text-gray-500 transition duration-150 ease-in-out hover:text-gray-800 hover:bg-gray-100 focus:outline-none focus:text-gray-800 focus:bg-gray-100 sm:px-6",children:"Sign out"})})]})]})})},ue=function(){var e=Object(r.useState)(!1),t=Object(M.a)(e,2),n=t[0],s=t[1],o=Object(c.b)();return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("nav",{className:"bg-white shadow",children:[Object(a.jsx)("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:Object(a.jsxs)("div",{className:"flex justify-between h-16",children:[Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)("div",{className:"flex items-center mr-2 -ml-2 md:hidden",children:Object(a.jsxs)("button",{onClick:function(){return s(!n)},className:"inline-flex items-center justify-center p-2 text-gray-400 transition duration-150 ease-in-out rounded-md hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500","aria-label":"Main menu","aria-expanded":"false",children:[Object(a.jsx)("svg",{className:"block w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})}),Object(a.jsx)("svg",{className:"hidden w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})}),Object(a.jsxs)("div",{className:"flex items-center flex-shrink-0",children:[Object(a.jsx)("img",{className:"block w-auto h-8 lg:hidden",src:"https://tailwindui.com/img/logos/v1/workflow-mark-on-white.svg",alt:"Workflow logo"}),Object(a.jsx)("img",{className:"hidden w-auto h-8 lg:block",src:"https://tailwindui.com/img/logos/v1/workflow-mark-on-white.svg",alt:"Workflow logo"})]})]}),Object(a.jsxs)("div",{className:"flex items-center",children:[Object(a.jsx)("div",{className:"flex-shrink-0",children:Object(a.jsxs)("button",{type:"button",onClick:function(){o(Z())},className:"relative inline-flex items-center px-4 py-2 text-sm font-medium leading-5 text-white transition duration-150 ease-in-out bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700",children:[Object(a.jsx)("svg",{className:"w-5 h-5 mr-2 -ml-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(a.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),Object(a.jsx)("span",{children:"Nuevo"})]})}),Object(a.jsxs)("div",{className:"hidden md:ml-4 md:flex-shrink-0 md:flex md:items-center",children:[Object(a.jsx)("button",{className:"p-1 text-gray-400 transition duration-150 ease-in-out border-2 border-transparent rounded-full hover:text-gray-500 focus:outline-none focus:text-gray-500 focus:bg-gray-100","aria-label":"Notifications",children:Object(a.jsx)("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),Object(a.jsx)(le,{showMenu:n})]})]})]})}),Object(a.jsx)(de,{showMenu:n})]})})},be={allDay:"Todo el d\xeda",previous:"<",next:">",today:"Hoy",month:"Mes",week:"Semana",day:"D\xeda",agenda:"Agenda",date:"Fecha",time:"Hora",event:"Evento",noEventsInRange:"No hay eventos en este rango",showMore:function(e){return"+ Ver m\xe1s (".concat(e,")")}},me=function(e){var t=e.event,n=t.title,r=t.user;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("strong",{children:[" ",n," "]}),Object(a.jsxs)("span",{children:["- ",r.name]})]})},je=n(50),xe=n.n(je),he=K()().minutes(0).seconds(0).add(1,"hours"),fe=he.clone().add(1,"hours"),ge={title:"",notes:"",start:he.toDate(),end:fe.toDate()},pe=function(){var e=Object(c.c)((function(e){return e.ui})).modalOpen,t=Object(c.c)((function(e){return e.calendar})).activeEvent,n=Object(c.b)(),s=Object(r.useState)(he.toDate()),o=Object(M.a)(s,2),i=o[0],l=o[1],u=Object(r.useState)(fe.toDate()),b=Object(M.a)(u,2),m=b[0],j=b[1],x=Object(r.useState)(!0),h=Object(M.a)(x,2),f=h[0],g=h[1],p=Object(r.useState)(ge),v=Object(M.a)(p,2),O=v[0],w=v[1],y=O.title,N=O.notes,k=O.start,E=O.end;Object(r.useEffect)((function(){w(t||ge)}),[t]);var S=function(e){var t=e.target;w(Object(d.a)(Object(d.a)({},O),{},Object(J.a)({},t.name,t.value)))},C=function(){n($()),w(ge),n(ae())};return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(ee.b,{show:e,enter:"transition-opacity duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(a.jsx)("form",{style:{backgroundColor:"rgba(0, 0, 0, 0.8)"},className:"fixed top-0 bottom-0 left-0 right-0 z-40 w-full h-full",onSubmit:function(e){e.preventDefault();var a=K()(k),r=K()(E);if(a.isSameOrAfter(r))B.a.fire({title:"Error!",text:"La fecha final debe ser posterior a la fecha inicial",icon:"error",confirmButtonText:"Ok"});else{if(y.trim().length<2)return g(!1),void B.a.fire({title:"Error!",text:"El titulo esta lleno de forma incorrecta ",icon:"error",confirmButtonText:"Ok"});var s;g(!0),n(t?(s=O,function(){var e=Object(A.a)(L.a.mark((function e(t){var n,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q("events/".concat(s.id),s,"PUT");case 3:return n=e.sent,e.next=6,n.json();case 6:(a=e.sent).ok?t(se(s)):B.a.fire("Error",a.msg,"error"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()):function(e){return function(){var t=Object(A.a)(L.a.mark((function t(n,a){var r,s,o,c,i;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth,s=r.uid,o=r.name,t.prev=1,t.next=4,q("events",e,"POST");case 4:return c=t.sent,t.next=7,c.json();case 7:(i=t.sent).ok&&(e.id=i.evento.id,e.user={_id:s,name:o},n(ne(e))),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(O)),n($()),n(ae())}},children:Object(a.jsxs)("div",{className:"absolute left-0 right-0 max-w-xl p-4 mx-auto mt-24 overflow-hidden",children:[Object(a.jsx)("div",{onClick:C,className:"absolute top-0 right-0 inline-flex items-center justify-center w-10 h-10 text-gray-500 bg-white rounded-full shadow cursor-pointer hover:text-gray-800",children:Object(a.jsx)("svg",{className:"w-6 h-6 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(a.jsx)("path",{d:"M16.192 6.344L11.949 10.586 7.707 6.344 6.293 7.758 10.535 12 6.293 16.242 7.707 17.656 11.949 13.414 16.192 17.656 17.606 16.242 13.364 12 17.606 7.758z"})})}),Object(a.jsxs)("div",{className:"block w-full h-full p-8 overflow-hidden bg-white rounded-lg shadow",children:[Object(a.jsx)("h2",{className:"pb-2 mb-6 text-2xl font-bold text-gray-800 border-b",children:t?" Evento seleccionado":"Nuevo evento"}),Object(a.jsxs)("div",{className:"mb-4",children:[Object(a.jsx)("label",{className:"block mb-1 text-sm font-bold tracking-wide text-gray-800",children:"Fecha y hora inicio"}),Object(a.jsx)(xe.a,{onChange:function(e){l(e),w(Object(d.a)(Object(d.a)({},O),{},{start:e}))},value:i,className:"w-full px-4 py-2 leading-tight text-gray-700 bg-gray-200 border-2 border-gray-200 rounded-lg appearance-none focus:outline-none focus:bg-white focus:border-blue-500"})]}),Object(a.jsxs)("div",{className:"mb-4",children:[Object(a.jsx)("label",{className:"block mb-1 text-sm font-bold tracking-wide text-gray-800",children:"Fecha y hora fin"}),Object(a.jsx)(xe.a,{onChange:function(e){j(e),w(Object(d.a)(Object(d.a)({},O),{},{end:e}))},value:m,minDate:i,className:"w-full px-4 py-2 leading-tight text-gray-700 bg-gray-200 border-2 border-gray-200 rounded-lg appearance-none focus:outline-none focus:bg-white focus:border-blue-500"})]}),Object(a.jsxs)("div",{className:"mb-4",children:[Object(a.jsx)("label",{className:"block mb-1 text-sm font-bold tracking-wide text-gray-800",children:"Titulo del evento"}),Object(a.jsx)("input",{className:"w-full px-4 py-2 leading-tight text-gray-700 bg-gray-200 border-2 border-gray-200 rounded-lg appearance-none focus:outline-none focus:bg-white  ".concat(f?"focus:border-blue-500":"focus:border-red-500 "," "),type:"text",name:"title",autoComplete:"off",placeholder:"Ingrese un t\xedtulo",value:y,onChange:S})]}),Object(a.jsxs)("div",{className:"mb-4",children:[Object(a.jsx)("label",{className:"block mb-1 text-sm font-bold tracking-wide text-gray-800",children:"Detalles del evento"}),Object(a.jsx)("textarea",{className:"w-full px-4 py-2 leading-tight text-gray-700 bg-gray-200 border-2 border-gray-200 rounded-lg appearance-none focus:outline-none focus:bg-white focus:border-blue-500",type:"text",placeholder:"Ingrese la descripci\xf3n de la tarea",name:"notes",value:N,onChange:S})]}),Object(a.jsxs)("div",{className:"mt-8 text-right",children:[t?Object(a.jsx)("button",{type:"button",onClick:function(){n(function(){var e=Object(A.a)(L.a.mark((function e(t,n){var a,r,s;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().calendar.activeEvent.id,console.log(a),e.prev=2,e.next=5,q("events/".concat(a),{},"DELETE");case 5:return r=e.sent,e.next=8,r.json();case 8:(s=e.sent).ok?t(re()):B.a.fire("Error",s.msg,"error"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n){return e.apply(this,arguments)}}()),n($())},className:"px-4 py-2 mr-2 font-semibold text-white bg-red-600 border border-gray-300 rounded-lg shadow-sm hover:bg-red-700",children:"Eliminar"}):Object(a.jsx)("button",{type:"button",onClick:C,className:"px-4 py-2 mr-2 font-semibold text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-100",children:"Cancelar"}),Object(a.jsx)("button",{type:"submit",className:"px-4 py-2 font-semibold text-white bg-gray-800 border border-gray-700 rounded-lg shadow-sm hover:bg-gray-700",children:"Guardar"})]})]})]})})})})},ve=Object(X.b)(K.a);K.a.locale("es");var Oe=function(){var e=Object(r.useState)(localStorage.getItem("lastView")||"month"),t=Object(M.a)(e,2),n=t[0],s=t[1],o=Object(c.b)(),i=Object(c.c)((function(e){return e.calendar||[]})).events,l=Object(c.c)((function(e){return e.auth||""})).uid;Object(r.useEffect)((function(){o(function(){var e=Object(A.a)(L.a.mark((function e(t){var n,a,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q("events");case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,r=te(a.eventos),t(oe(r)),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}),[o]);return Object(a.jsxs)("div",{children:[Object(a.jsx)(ue,{}),Object(a.jsx)("div",{className:"px-4 mx-auto mt-12 mb-12 max-w-7xl sm:px-6 lg:px-8",children:Object(a.jsx)("div",{className:"max-w-5xl mx-auto mt-2",children:Object(a.jsx)(X.a,{localizer:ve,events:i,startAccessor:"start",endAccessor:"end",style:{height:700},messages:be,eventPropGetter:function(e,t,n,a){return{style:{backgroundColor:l===e.user._id?"#5850ec":"#465660",borderRadius:"2px",opacity:.8,display:"block",color:"white"}}},onDoubleClickEvent:function(e){o({type:m,payload:e}),o(Z())},onSelectEvent:function(e){},onSelectSlot:function(e){o(ae())},selectable:!0,onView:function(e){s(e),localStorage.setItem("lastView",e)},view:n,components:{event:me}})})}),Object(a.jsx)(pe,{})]})},we=n(41),ye=function(e){var t=e.isAutenticated,n=e.component,r=Object(we.a)(e,["isAutenticated","component"]);return Object(a.jsx)(F.b,Object(d.a)(Object(d.a)({},r),{},{component:function(e){return t?Object(a.jsx)(F.a,{to:"/"}):Object(a.jsx)(n,Object(d.a)({},e))}}))},Ne=function(e){var t=e.isAutenticated,n=e.component,r=Object(we.a)(e,["isAutenticated","component"]);return Object(a.jsx)(F.b,Object(d.a)(Object(d.a)({},r),{},{component:function(e){return t?Object(a.jsx)(n,Object(d.a)({},e)):Object(a.jsx)(F.a,{to:"login"})}}))},ke=function(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.auth})),n=t.checking,s=t.uid;return Object(r.useEffect)((function(){e(function(){var e=Object(A.a)(L.a.mark((function e(t){var n,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q("auth/renew");case 2:return n=e.sent,e.next=5,n.json();case 5:(a=e.sent).ok?(localStorage.setItem("token",a.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(V({uid:a.uid,name:a.name}))):t(H());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),n?Object(a.jsx)("h5",{children:"Cargando..."}):Object(a.jsx)(T.a,{children:Object(a.jsx)("div",{children:Object(a.jsxs)(F.d,{children:[Object(a.jsx)(ye,{exact:!0,path:"/login",component:U,isAutenticated:!!s}),Object(a.jsx)(ye,{exact:!0,path:"/register",component:Q,isAutenticated:!!s}),Object(a.jsx)(Ne,{exact:!0,path:"/",component:Oe,isAutenticated:!!s}),Object(a.jsx)(F.a,{to:"/"})]})})})},Ee=function(){return Object(a.jsx)(c.a,{store:D,children:Object(a.jsx)(ke,{})})};n(102);o.a.render(Object(a.jsx)(Ee,{}),document.getElementById("root"))}},[[103,1,2]]]);
//# sourceMappingURL=main.17194287.chunk.js.map